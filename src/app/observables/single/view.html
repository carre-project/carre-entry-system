<div uib-collapse="!main.DEBUG" class="row">
  <div class="col-xs-12">
    Current observable<pre>{{observable | json}}</pre>
  </div>
</div>
<!--debug vars-->

<div class="col-xs-12">
  <div class="col-sm-6">
    ID: <b>{{observable.id}}</b>
    <a ng-show="main.user.username" class="btn btn-xs btn-default" ui-sref="main.observables.edit({id:observable.id})"><i class="fa fa-pencil"></i> Edit</a>
    <hr>
    <ul class="list-group">
      <li ng-repeat="field in observable.fields" class="list-group-item">
        {{field.label}} : <b>{{observable.current[field.value+'_label']}}</b>
      </li>
    </ul>
  </div>
  <div class="col-sm-6">

    <div cg-busy="{promise:observables.loading,message:'Searching Bioportal...',backdrop:false,minDuration:700}" style="padding:25px;">

      <h4>Observable:  <u>{{observables.selectedObservable.entity.has_observable_name}}</u></h4>
      <hr>
      <div ng-show="observables.bioportalData.length===0" class="alert alert-warning">Bioportal didn't return anything useful...
        <a href="" ng-click="observables.setBioportal(null, observables.selectedObservable,true)">Try without the defined CUI</a>
      </div>

      <div style="overflow-y: auto;height: 90%; ">
        <ul>
          <li ng-repeat="obj in observables.bioportalData">
            <!--<i ng-show="obj.cui.indexOf(observables.selectedObservable.entity.has_risk_element_identifier_label)>-1" class="fa fa-x2 fa-arrow-left"></i>-->
            <h4>{{obj.prefLabel}} </h4> UMLS : {{obj.cui.join(', ')}} <a ng-href="{{ obj.links.ui | trustAsResourceUrl }}" target="_blank">Bioportal</a>
            <br> Ontology: {{obj.links.ontology.substring(obj.links.ontology.lastIndexOf('/')+1)}}
            <br>

            <p ng-bind-html="obj.definition[0]"></p>
          </li>
        </ul>
      </div>
    </div>

  </div>

</div>
